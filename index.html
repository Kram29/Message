<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sweet Envelope üíå</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Comic Sans MS', cursive;
      height: 100%;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background-color: #fff0f5;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      overflow: hidden;
    }

    h1 {
      color: #d14686;
      margin: 10px 0;
      text-align: center;
      background: rgba(255, 255, 255, 0.6);
      padding: 10px 20px;
      border-radius: 10px;
      position: relative;
      z-index: 2;
    }

    .envelope-container {
      width: 300px;
      height: 250px;
      perspective: 1000px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      z-index: 2;
    }

    .envelope {
      width: 100%;
      height: 100%;
      background: #ffcccc;
      border: 2px solid #d46a6a;
      border-radius: 15px;
      position: relative;
      overflow: hidden;
      background-size: cover;
      background-position: center;
    }

    .flap {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 50%;
      background: #ff9999;
      border-bottom: 2px solid #d46a6a;
      transform-origin: top;
      transform: rotateX(0deg);
      transition: transform 0.6s ease;
      z-index: 2;
    }

    .envelope.open .flap {
      transform: rotateX(-120deg);
    }

    .content {
      position: absolute;
      top: 50%;
      left: 0;
      width: 100%;
      min-height: 50%;
      padding: 10px;
      box-sizing: border-box;
      opacity: 0;
      transition: opacity 0.4s ease 0.6s;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: rgba(255, 255, 255, 0.5);
      border-radius: 15px;
      backdrop-filter: blur(6px);
    }

    .envelope.open .content {
      opacity: 1;
    }

    .message-text {
      font-size: 1.3em;
      color: red;
      margin-bottom: 10px;
      text-align: center;
      line-height: 1.4;
      z-index: 3;
      font-weight: bold;
      max-width: 90%;
      word-wrap: break-word;
    }

    .btn {
      margin-top: 20px;
      padding: 12px 24px;
      font-size: 18px;
      background-color: #ff99cc;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      position: relative;
      z-index: 2;
    }

    .btn:hover {
      background-color: #ff66b2;
    }

    .final-message {
      display: none;
      font-size: 2em;
      color: red;
      text-align: center;
      font-weight: bold;
      max-width: 90%;
      padding: 20px;
      background: rgba(255, 255, 255, 0.1); /* Fully transparent background */
      border-radius: 15px;
      z-index: 3;
      position: relative;
      max-height: 400px; /* Set a max height to enable scrolling */
      overflow-y: auto; /* Enable vertical scrolling */
    }

    .blurred-background {
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      filter: none; /* Initially, no blur */
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      display: block;
      transition: background-image 1s ease, filter 1s ease;
    }

    @media (max-width: 768px) {
      .envelope-container {
        width: 95vw;
        height: 80vh;
        margin: 2.5vh auto;
      }

      .message-text {
        font-size: 1.8em;
      }

      .content {
        padding: 5%;
      }
    }
  </style>
</head>
<body>

  <div class="blurred-background" id="blurredBackground"></div>

  <h1 id="header">üíå What's in Your Heart?</h1>

  <div class="envelope-container">
    <div class="envelope" id="envelope">
      <div class="flap"></div>
      <div class="content" id="content">
        <div class="message-text" id="messageText"></div>
      </div>
    </div>
  </div>

  <button class="btn" id="nextButton" onclick="revealMessage()">Next üíó</button>

  <div class="final-message" id="finalMessage">
    "We met in the most unexpected way ‚Äî because of an egg that broke. It was such a random, seemingly insignificant accident, but little did I know, that moment would mark the beginning of something so much bigger than I could have ever imagined.

At first, I didn‚Äôt think much of it. It was just a mess, something we could laugh off. But as time passed, something started to change. Your presence, even in the simplest moments, began to matter more than I could admit to myself. The way you smiled at me, the way you‚Äôd crack a joke and make everyone around you laugh ‚Äî it all started to feel like something I couldn‚Äôt get enough of.

I kept pretending I wasn‚Äôt affected, but the truth is, every time you looked my way, every time our conversations lingered just a little longer than they needed to, my heart skipped a beat. And before I knew it, you had quietly, and without me realizing, become a part of my everyday thoughts.

I never expected to feel this way, and I certainly never expected that a broken egg would lead me here ‚Äî confessing things I‚Äôve kept hidden. I like you. More than I probably should. And while I‚Äôm not entirely ready to jump into a relationship just yet, I want you to know how much I care. I want to get to know you better, to understand who you truly are, and to see where this might go ‚Äî without rushing, without expectations.

I‚Äôm scared, to be honest. Scared that putting my feelings into words might change everything, but more scared of not saying anything and letting this feeling slip away without you ever knowing.

So here it is, the truth I‚Äôve been keeping: You matter to me in ways I didn‚Äôt think was possible. Maybe this will never reach you, or maybe you‚Äôll never feel the same, but I needed you to know. Because even if nothing changes, at least I‚Äôll know I was honest with myself. And honest with you.

Thank you for being the person I never knew I needed, and for making my world a little brighter ‚Äî even in the simplest of moments. I never expected that something as small as a broken egg would lead me to this, but now that I‚Äôm here, I wouldn‚Äôt change a thing."
  </div>

  <script>
    const messages = [
      "Why do you always pop into my mind... even when I'm not trying? üí≠",
      "I don‚Äôt know if I‚Äôm falling for you... or if I already did üíì",
      "You confuse me in the cutest way... I smile without knowing why üòÖüíì",
      "Talking to you makes my day better ‚Äî even if I pretend it doesn't ‚òÄÔ∏è",
      "Sometimes I wonder if you know how much I enjoy every little moment with you üå∑",
      "It's strange... how someone can mean so much and not even realize it ‚ú®",
      "You're the reason my heart feels a little fuller and my smile a little bigger üòä",
      "I think... maybe I like you more than I meant to üíñ"
    ];

    const images = [
      "Images/1.jpg",
      "Images/2.jpg",
      "Images/3.jpg",
      "Images/4.jpg",
      "Images/5.jpg",
      "Images/6.jpg",
      "Images/7.jpg",
      "Images/8.jpg"
    ];

    let current = 0;
    let isOpen = false;

    function revealMessage() {
      const envelope = document.getElementById('envelope');
      const message = document.getElementById('messageText');
      const finalMessage = document.getElementById('finalMessage');
      const nextButton = document.getElementById('nextButton');
      const blurredBackground = document.getElementById('blurredBackground');
      const header = document.getElementById('header');

      // Set background image and no blur effect for images 1-8
      if (current < messages.length - 1) {
        blurredBackground.style.filter = 'none'; // No blur for images 1-8
        blurredBackground.style.backgroundImage = `url('${images[current]}')`;

        // Set clear background inside the envelope
        envelope.style.backgroundImage = `url('${images[current]}')`;
      } else {
        // Apply blur only for the final image (Image 9)
        blurredBackground.style.filter = 'blur(5px)';
        blurredBackground.style.backgroundImage = `url('Images/9.jpg')`; // Final image to be blurred
      }

      if (current < messages.length - 1) {
        if (!isOpen) {
          message.innerText = messages[current];
          envelope.classList.add('open');
          isOpen = true;
        } else {
          envelope.classList.remove('open');
          isOpen = false;
          current = (current + 1) % messages.length;

          setTimeout(() => {
            message.innerText = messages[current];
            blurredBackground.style.backgroundImage = `url('${images[current]}')`;
            envelope.style.backgroundImage = `url('${images[current]}')`;
            envelope.classList.add('open');
            isOpen = true;
          }, 500);
        }
      } else {
        envelope.style.display = 'none';
        nextButton.style.display = 'none';
        header.style.display = 'none';
        finalMessage.style.display = 'block';
      }
    }
  </script>

</body>
</html>
